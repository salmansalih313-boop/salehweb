<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø³ÙˆØ§Ø±ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ† Ø§ÙØºØ§Ù†Ø³ØªØ§Ù† | Afghan Taxi</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        * { font-family: 'Vazirmatn', sans-serif; }
        
        .gradient-bg {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
        }
        
        .card-glass {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #e94560 0%, #c23152 100%);
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            background: linear-gradient(135deg, #c23152 0%, #a02040 100%);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(233, 69, 96, 0.4);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #0f3460 0%, #16213e 100%);
            transition: all 0.3s ease;
        }
        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(15, 52, 96, 0.4);
        }
        
        .map-container {
            background: linear-gradient(135deg, #e8f4f8 0%, #d1ecf1 50%, #c3e6cb 100%);
            position: relative;
            overflow: hidden;
        }
        
        .map-dot {
            position: absolute;
            width: 12px;
            height: 12px;
            background: #e94560;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            animation: pulse 2s infinite;
        }
        
        .map-road {
            position: absolute;
            background: rgba(100, 100, 100, 0.2);
            border-radius: 3px;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(233, 69, 96, 0.7); }
            50% { transform: scale(1.2); box-shadow: 0 0 0 10px rgba(233, 69, 96, 0); }
        }
        
        @keyframes carMove {
            0% { transform: translateX(0) translateY(0); }
            25% { transform: translateX(30px) translateY(-15px); }
            50% { transform: translateX(60px) translateY(0); }
            75% { transform: translateX(30px) translateY(15px); }
            100% { transform: translateX(0) translateY(0); }
        }
        
        .car-animation {
            animation: carMove 8s ease-in-out infinite;
        }
        
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .slide-up {
            animation: slideUp 0.5s ease-out forwards;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .fade-in {
            animation: fadeIn 0.4s ease-out forwards;
        }
        
        .driver-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(0,0,0,0.15);
        }
        
        .driver-card {
            transition: all 0.3s ease;
        }
        
        .input-field {
            transition: all 0.3s ease;
        }
        .input-field:focus {
            border-color: #e94560;
            box-shadow: 0 0 0 3px rgba(233, 69, 96, 0.1);
        }
        
        .tab-active {
            background: linear-gradient(135deg, #e94560 0%, #c23152 100%);
            color: white;
        }
        
        .vehicle-option {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .vehicle-option:hover, .vehicle-option.selected {
            border-color: #e94560;
            background: rgba(233, 69, 96, 0.05);
            transform: scale(1.02);
        }
        .vehicle-option.selected {
            box-shadow: 0 4px 15px rgba(233, 69, 96, 0.2);
        }
        
        .status-badge {
            animation: pulse 2s infinite;
        }
        
        .star-filled { color: #f59e0b; }
        .star-empty { color: #d1d5db; }
        
        .notification {
            animation: slideDown 0.5s ease-out forwards;
        }
        
        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-100%); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .hero-pattern {
            background-image: radial-gradient(circle at 20% 50%, rgba(233, 69, 96, 0.1) 0%, transparent 50%),
                              radial-gradient(circle at 80% 20%, rgba(15, 52, 96, 0.1) 0%, transparent 50%),
                              radial-gradient(circle at 50% 80%, rgba(233, 69, 96, 0.05) 0%, transparent 50%);
        }
        
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #c23152; border-radius: 3px; }
        
        .loading-spinner {
            border: 3px solid rgba(233, 69, 96, 0.2);
            border-top: 3px solid #e94560;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">

    <!-- Notification Container -->
    <div id="notification" class="fixed top-4 left-4 right-4 z-50 hidden">
        <div class="max-w-md mx-auto bg-green-500 text-white px-6 py-4 rounded-2xl shadow-2xl notification flex items-center gap-3">
            <span class="text-2xl" id="notifIcon">âœ…</span>
            <span id="notifText" class="font-medium"></span>
        </div>
    </div>

    <!-- Header -->
    <header class="gradient-bg text-white shadow-2xl sticky top-0 z-40">
        <div class="max-w-7xl mx-auto px-4 py-3">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <div class="w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center text-2xl backdrop-blur-sm">
                        ğŸš•
                    </div>
                    <div>
                        <h1 class="text-xl font-bold">Ø³ÙˆØ§Ø±ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ†</h1>
                        <p class="text-xs text-white/70">Afghan Taxi</p>
                    </div>
                </div>
                <div class="flex items-center gap-2">
                    <button onclick="showPage('history')" class="p-2.5 hover:bg-white/10 rounded-xl transition-all" title="ØªØ§Ø±ÛŒØ®Ú†Ù‡">
                        <span class="text-xl">ğŸ“‹</span>
                    </button>
                    <button onclick="showPage('profile')" class="p-2.5 hover:bg-white/10 rounded-xl transition-all" title="Ù¾Ø±ÙˆÙØ§ÛŒÙ„">
                        <span class="text-xl">ğŸ‘¤</span>
                    </button>
                    <button id="loginBtn" onclick="showPage('login')" class="bg-white/20 hover:bg-white/30 px-4 py-2 rounded-xl text-sm font-medium transition-all backdrop-blur-sm">
                        ÙˆØ±ÙˆØ¯
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main id="mainContent" class="max-w-7xl mx-auto px-4 py-6">
        
        <!-- Home Page -->
        <div id="page-home" class="page">
            <!-- Hero Section -->
            <div class="gradient-bg rounded-3xl p-8 mb-8 text-white relative overflow-hidden hero-pattern">
                <div class="relative z-10">
                    <div class="flex flex-col md:flex-row items-center gap-8">
                        <div class="flex-1 text-center md:text-right">
                            <h2 class="text-3xl md:text-4xl font-black mb-4 leading-relaxed">Ø³ÙØ± Ø¢Ø³Ø§Ù† Ø¯Ø±<br>Ø³Ø±Ø§Ø³Ø± Ø§ÙØºØ§Ù†Ø³ØªØ§Ù† ğŸ‡¦ğŸ‡«</h2>
                            <p class="text-white/80 text-lg mb-6 leading-relaxed">Ø¨Ø§ Ø§Ù…Ù†â€ŒØªØ±ÛŒÙ† Ùˆ Ø³Ø±ÛŒØ¹â€ŒØªØ±ÛŒÙ† Ø³Ø±ÙˆÛŒØ³ ØªÚ©Ø³ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ† Ø¯Ø± Ú©Ø§Ø¨Ù„ Ùˆ Ø´Ù‡Ø±Ù‡Ø§ÛŒ Ø¨Ø²Ø±Ú¯ Ø§ÙØºØ§Ù†Ø³ØªØ§Ù†</p>
                            <button onclick="showPage('booking')" class="btn-primary text-white px-8 py-4 rounded-2xl font-bold text-lg shadow-xl">
                                ğŸš— Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø³ÙˆØ§Ø±ÛŒ
                            </button>
                        </div>
                        <div class="flex-1 flex justify-center">
                            <div class="w-64 h-48 relative car-animation">
                                <div class="text-8xl">ğŸš•</div>
                                <div class="absolute -bottom-2 left-0 right-0 h-4 bg-black/10 rounded-full blur-md"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                <button onclick="quickBook('Ú©Ø§Ø¨Ù„')" class="card-glass rounded-2xl p-5 text-center hover:shadow-xl transition-all hover:-translate-y-1">
                    <div class="text-4xl mb-2">ğŸ™ï¸</div>
                    <div class="font-bold text-gray-800">Ú©Ø§Ø¨Ù„</div>
                    <div class="text-xs text-gray-500 mt-1">Ù¾Ø§ÛŒØªØ®Øª</div>
                </button>
                <button onclick="quickBook('Ù‡Ø±Ø§Øª')" class="card-glass rounded-2xl p-5 text-center hover:shadow-xl transition-all hover:-translate-y-1">
                    <div class="text-4xl mb-2">ğŸ•Œ</div>
                    <div class="font-bold text-gray-800">Ù‡Ø±Ø§Øª</div>
                    <div class="text-xs text-gray-500 mt-1">Ø´Ù‡Ø± Ø¨Ø§Ø³ØªØ§Ù†ÛŒ</div>
                </button>
                <button onclick="quickBook('Ù…Ø²Ø§Ø±Ø´Ø±ÛŒÙ')" class="card-glass rounded-2xl p-5 text-center hover:shadow-xl transition-all hover:-translate-y-1">
                    <div class="text-4xl mb-2">ğŸ’</div>
                    <div class="font-bold text-gray-800">Ù…Ø²Ø§Ø± Ø´Ø±ÛŒÙ</div>
                    <div class="text-xs text-gray-500 mt-1">Ø´Ù‡Ø± Ø¢Ø¨ÛŒ</div>
                </button>
                <button onclick="quickBook('Ù‚Ù†Ø¯Ù‡Ø§Ø±')" class="card-glass rounded-2xl p-5 text-center hover:shadow-xl transition-all hover:-translate-y-1">
                    <div class="text-4xl mb-2">ğŸ”ï¸</div>
                    <div class="font-bold text-gray-800">Ù‚Ù†Ø¯Ù‡Ø§Ø±</div>
                    <div class="text-xs text-gray-500 mt-1">Ø´Ù‡Ø± Ù…ÛŒÙˆÙ‡â€ŒÙ‡Ø§</div>
                </button>
            </div>

            <!-- Features -->
            <div class="mb-8">
                <h3 class="text-2xl font-bold text-gray-800 mb-6 text-center">Ú†Ø±Ø§ Ø³ÙˆØ§Ø±ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ†ØŸ</h3>
                <div class="grid md:grid-cols-3 gap-6">
                    <div class="card-glass rounded-2xl p-6 text-center hover:shadow-xl transition-all">
                        <div class="w-16 h-16 bg-green-100 rounded-2xl flex items-center justify-center text-3xl mx-auto mb-4">ğŸ”’</div>
                        <h4 class="font-bold text-lg text-gray-800 mb-2">Ø³ÙØ± Ø§Ù…Ù†</h4>
                        <p class="text-gray-600 text-sm">ØªÙ…Ø§Ù… Ø±Ø§Ù†Ù†Ø¯Ù‡â€ŒÙ‡Ø§ ØªØ§ÛŒÛŒØ¯ Ù‡ÙˆÛŒØª Ø´Ø¯Ù‡ Ùˆ Ø¯Ø§Ø±Ø§ÛŒ Ù…Ø¬ÙˆØ² Ø±Ø³Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯</p>
                    </div>
                    <div class="card-glass rounded-2xl p-6 text-center hover:shadow-xl transition-all">
                        <div class="w-16 h-16 bg-blue-100 rounded-2xl flex items-center justify-center text-3xl mx-auto mb-4">ğŸ’°</div>
                        <h4 class="font-bold text-lg text-gray-800 mb-2">Ù‚ÛŒÙ…Øª Ù…Ù†Ø§Ø³Ø¨</h4>
                        <p class="text-gray-600 text-sm">Ù†Ø±Ø®â€ŒÙ‡Ø§ÛŒ Ø±Ù‚Ø§Ø¨ØªÛŒ Ø¨Ù‡ Ø§ÙØºØ§Ù†ÛŒ Ø¨Ø§ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø¯Ù‚ÛŒÙ‚ Ù…Ø³ÛŒØ±</p>
                    </div>
                    <div class="card-glass rounded-2xl p-6 text-center hover:shadow-xl transition-all">
                        <div class="w-16 h-16 bg-purple-100 rounded-2xl flex items-center justify-center text-3xl mx-auto mb-4">âš¡</div>
                        <h4 class="font-bold text-lg text-gray-800 mb-2">Ø³Ø±ÛŒØ¹ Ùˆ Ø¢Ø³Ø§Ù†</h4>
                        <p class="text-gray-600 text-sm">Ø¯Ø± Ú©Ù…ØªØ± Ø§Ø² Ûµ Ø¯Ù‚ÛŒÙ‚Ù‡ Ø±Ø§Ù†Ù†Ø¯Ù‡ Ø¯Ø± Ù…Ø­Ù„ Ø´Ù…Ø§ Ø­Ø§Ø¶Ø± Ù…ÛŒâ€ŒØ´ÙˆØ¯</p>
                    </div>
                </div>
            </div>

            <!-- Stats -->
            <div class="gradient-bg rounded-3xl p-8 text-white">
                <div class="grid grid-cols-2 md:grid-cols-4 gap-6 text-center">
                    <div>
                        <div class="text-3xl font-black">ÛµÛ°Û°Û°+</div>
                        <div class="text-white/70 text-sm mt-1">Ø±Ø§Ù†Ù†Ø¯Ù‡ ÙØ¹Ø§Ù„</div>
                    </div>
                    <div>
                        <div class="text-3xl font-black">Û³Û´</div>
                        <div class="text-white/70 text-sm mt-1">ÙˆÙ„Ø§ÛŒØª</div>
                    </div>
                    <div>
                        <div class="text-3xl font-black">Û±M+</div>
                        <div class="text-white/70 text-sm mt-1">Ø³ÙØ± Ù…ÙˆÙÙ‚</div>
                    </div>
                    <div>
                        <div class="text-3xl font-black">Û´.Û¸</div>
                        <div class="text-white/70 text-sm mt-1">Ø§Ù…ØªÛŒØ§Ø² Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Login Page -->
        <div id="page-login" class="page hidden">
            <div class="max-w-md mx-auto slide-up">
                <div class="card-glass rounded-3xl p-8 shadow-2xl">
                    <div class="text-center mb-8">
                        <div class="w-20 h-20 bg-gradient-to-br from-red-500 to-pink-600 rounded-3xl flex items-center justify-center text-4xl mx-auto mb-4 shadow-lg">
                            ğŸš•
                        </div>
                        <h2 class="text-2xl font-bold text-gray-800">Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!</h2>
                        <p class="text-gray-500 mt-2">Ø¨Ø±Ø§ÛŒ Ø§Ø¯Ø§Ù…Ù‡ Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ† Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯</p>
                    </div>

                    <!-- Login Tabs -->
                    <div class="flex bg-gray-100 rounded-2xl p-1 mb-6">
                        <button onclick="switchLoginTab('passenger')" id="tab-passenger" class="flex-1 py-3 rounded-xl font-bold text-sm transition-all tab-active">
                            ğŸ§‘ Ù…Ø³Ø§ÙØ±
                        </button>
                        <button onclick="switchLoginTab('driver')" id="tab-driver" class="flex-1 py-3 rounded-xl font-bold text-sm transition-all text-gray-600">
                            ğŸš— Ø±Ø§Ù†Ù†Ø¯Ù‡
                        </button>
                    </div>

                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-bold text-gray-700 mb-2">Ù†Ø§Ù… Ú©Ø§Ù…Ù„</label>
                            <input type="text" id="loginName" placeholder="Ù…Ø­Ù…Ø¯ Ø§Ø­Ù…Ø¯ÛŒ" 
                                class="input-field w-full px-4 py-3.5 border-2 border-gray-200 rounded-2xl outline-none text-gray-800 bg-gray-50">
                        </div>
                        <div>
                            <label class="block text-sm font-bold text-gray-700 mb-2">Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ†</label>
                            <div class="flex gap-2">
                                <div class="bg-gray-100 border-2 border-gray-200 rounded-2xl px-4 py-3.5 text-gray-600 font-bold flex items-center gap-1">
                                    <span>ğŸ‡¦ğŸ‡«</span>
                                    <span>+93</span>
                                </div>
                                <input type="tel" id="loginPhone" placeholder="Û°Û·Û° Û±Û²Û³ Û´ÛµÛ¶Û·" 
                                    class="input-field flex-1 px-4 py-3.5 border-2 border-gray-200 rounded-2xl outline-none text-gray-800 bg-gray-50" dir="ltr">
                            </div>
                        </div>
                        
                        <div id="driverFields" class="hidden space-y-4">
                            <div>
                                <label class="block text-sm font-bold text-gray-700 mb-2">Ù†ÙˆØ¹ Ù…ÙˆØªØ±</label>
                                <select id="carType" class="input-field w-full px-4 py-3.5 border-2 border-gray-200 rounded-2xl outline-none text-gray-800 bg-gray-50">
                                    <option value="corolla">ØªÙˆÛŒÙˆØªØ§ Ú©Ø±ÙˆÙ„Ø§</option>
                                    <option value="camry">ØªÙˆÛŒÙˆØªØ§ Ú©Ù…Ø±ÛŒ</option>
                                    <option value="hiace">ØªÙˆÛŒÙˆØªØ§ Ù‡Ø§ÛŒØ³</option>
                                    <option value="prius">ØªÙˆÛŒÙˆØªØ§ Ù¾Ø±ÛŒÙˆØ³</option>
                                    <option value="suzuki">Ø³ÙˆØ²ÙˆÚ©ÛŒ</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-bold text-gray-700 mb-2">Ù¾Ù„Ø§Ú© Ù…ÙˆØªØ±</label>
                                <input type="text" id="carPlate" placeholder="Û±-Û²Û³Û´Ûµ Ú©Ø§Ø¨Ù„" 
                                    class="input-field w-full px-4 py-3.5 border-2 border-gray-200 rounded-2xl outline-none text-gray-800 bg-gray-50">
                            </div>
                        </div>

                        <button onclick="login()" class="btn-primary w-full text-white py-4 rounded-2xl font-bold text-lg mt-4">
                            ÙˆØ±ÙˆØ¯ / Ø«Ø¨Øª Ù†Ø§Ù…
                        </button>
                        
                        <button onclick="showPage('home')" class="w-full text-gray-500 py-3 rounded-2xl font-medium text-sm hover:text-gray-700 transition-all">
                            Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Booking Page -->
        <div id="page-booking" class="page hidden">
            <div class="grid md:grid-cols-2 gap-6 slide-up">
                <!-- Map -->
                <div class="order-2 md:order-1">
                    <div class="map-container rounded-3xl h-80 md:h-full min-h-80 shadow-xl relative">
                        <!-- Fake Map Roads -->
                        <div class="map-road" style="width:80%; height:3px; top:30%; left:10%; transform: rotate(-5deg);"></div>
                        <div class="map-road" style="width:60%; height:3px; top:50%; left:20%; transform: rotate(10deg);"></div>
                        <div class="map-road" style="width:70%; height:3px; top:70%; left:15%; transform: rotate(-3deg);"></div>
                        <div class="map-road" style="width:3px; height:60%; top:20%; left:40%;"></div>
                        <div class="map-road" style="width:3px; height:50%; top:25%; left:65%; transform: rotate(8deg);"></div>
                        
                        <!-- Taxi icons on map -->
                        <div class="absolute text-3xl car-animation" style="top: 20%; left: 25%;">ğŸš•</div>
                        <div class="absolute text-2xl" style="top: 60%; left: 55%; animation: carMove 6s ease-in-out infinite reverse;">ğŸš—</div>
                        <div class="absolute text-2xl" style="top: 40%; left: 70%; animation: carMove 10s ease-in-out infinite;">ğŸš™</div>
                        
                        <!-- User Location -->
                        <div class="map-dot" id="userDot" style="top: 45%; left: 45%;"></div>
                        <div class="absolute bg-white px-3 py-1.5 rounded-xl shadow-lg text-xs font-bold" style="top: 38%; left: 38%;">ğŸ“ Ù…ÙˆÙ‚Ø¹ÛŒØª Ø´Ù…Ø§</div>
                        
                        <!-- Destination -->
                        <div id="destDot" class="hidden">
                            <div class="map-dot" style="top: 25%; left: 70%; background: #0f3460;"></div>
                            <div class="absolute bg-white px-3 py-1.5 rounded-xl shadow-lg text-xs font-bold" style="top: 18%; left: 63%;">ğŸ Ù…Ù‚ØµØ¯</div>
                            <!-- Route Line -->
                            <svg class="absolute inset-0 w-full h-full" style="z-index: 0;">
                                <line x1="47%" y1="47%" x2="72%" y2="27%" stroke="#e94560" stroke-width="3" stroke-dasharray="8,5" opacity="0.6"/>
                            </svg>
                        </div>
                        
                        <!-- Map Label -->
                        <div class="absolute bottom-4 left-4 right-4 bg-white/90 backdrop-blur-sm rounded-2xl px-4 py-3 text-center">
                            <p class="text-sm text-gray-600 font-medium">ğŸ—ºï¸ Ù†Ù‚Ø´Ù‡ Ø´Ù‡Ø± - Ù…ÙˆÙ‚Ø¹ÛŒØª ÙØ¹Ù„ÛŒ Ø´Ù…Ø§</p>
                        </div>
                    </div>
                </div>

                <!-- Booking Form -->
                <div class="order-1 md:order-2 space-y-4">
                    <div class="card-glass rounded-3xl p-6 shadow-xl">
                        <h3 class="text-xl font-bold text-gray-800 mb-5 flex items-center gap-2">
                            <span class="text-2xl">ğŸ“</span> Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø³ÙˆØ§Ø±ÛŒ
                        </h3>
                        
                        <div class="space-y-4">
                            <!-- Origin -->
                            <div class="relative">
                                <div class="absolute right-4 top-1/2 -translate-y-1/2 w-3 h-3 bg-green-500 rounded-full"></div>
                                <input type="text" id="origin" placeholder="Ù…Ø¨Ø¯Ø£: Ù…Ø«Ù„Ø§Ù‹ Ú†Ù‡Ø§Ø±Ø±Ø§Ù‡ÛŒ Ù¾Ø´ØªÙˆÙ†Ø³ØªØ§Ù†" 
                                    class="input-field w-full pr-10 pl-4 py-4 border-2 border-gray-200 rounded-2xl outline-none bg-gray-50">
                            </div>
                            
                            <!-- Destination -->
                            <div class="relative">
                                <div class="absolute right-4 top-1/2 -translate-y-1/2 w-3 h-3 bg-red-500 rounded-full"></div>
                                <input type="text" id="destination" placeholder="Ù…Ù‚ØµØ¯: Ù…Ø«Ù„Ø§Ù‹ Ù…ÛŒØ¯Ø§Ù† Ù‡ÙˆØ§ÛŒÛŒ" 
                                    class="input-field w-full pr-10 pl-4 py-4 border-2 border-gray-200 rounded-2xl outline-none bg-gray-50"
                                    oninput="updateDestination()">
                            </div>

                            <!-- Popular Destinations -->
                            <div>
                                <p class="text-xs font-bold text-gray-500 mb-2">Ù…Ù‚Ø§ØµØ¯ Ù¾Ø±Ø·Ø±ÙØ¯Ø§Ø±:</p>
                                <div class="flex flex-wrap gap-2">
                                    <button onclick="setDest('Ù…ÛŒØ¯Ø§Ù† Ù‡ÙˆØ§ÛŒÛŒ Ú©Ø§Ø¨Ù„')" class="bg-gray-100 hover:bg-gray-200 px-3 py-1.5 rounded-xl text-xs font-medium transition-all">âœˆï¸ Ù…ÛŒØ¯Ø§Ù† Ù‡ÙˆØ§ÛŒÛŒ</button>
                                    <button onclick="setDest('Ø´Ù‡Ø± Ù†Ùˆ')" class="bg-gray-100 hover:bg-gray-200 px-3 py-1.5 rounded-xl text-xs font-medium transition-all">ğŸ¢ Ø´Ù‡Ø± Ù†Ùˆ</button>
                                    <button onclick="setDest('Ú©Ø§Ø±ØªÙ‡ Ø³Ù‡')" class="bg-gray-100 hover:bg-gray-200 px-3 py-1.5 rounded-xl text-xs font-medium transition-all">ğŸ˜ï¸ Ú©Ø§Ø±ØªÙ‡ Ø³Ù‡</button>
                                    <button onclick="setDest('Ø¯Ø§Ø±Ø§Ù„Ø§Ù…Ø§Ù†')" class="bg-gray-100 hover:bg-gray-200 px-3 py-1.5 rounded-xl text-xs font-medium transition-all">ğŸ›ï¸ Ø¯Ø§Ø±Ø§Ù„Ø§Ù…Ø§Ù†</button>
                                    <button onclick="setDest('Ù¾Ù„ Ø¨Ø§Øº Ø¹Ù…ÙˆÙ…ÛŒ')" class="bg-gray-100 hover:bg-gray-200 px-3 py-1.5 rounded-xl text-xs font-medium transition-all">ğŸŒ³ Ù¾Ù„ Ø¨Ø§Øº Ø¹Ù…ÙˆÙ…ÛŒ</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Vehicle Selection -->
                    <div class="card-glass rounded-3xl p-6 shadow-xl">
                        <h3 class="text-lg font-bold text-gray-800 mb-4">ğŸš— Ù†ÙˆØ¹ Ù…ÙˆØªØ± Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</h3>
                        <div class="space-y-3" id="vehicleOptions">
                            <div class="vehicle-option border-2 border-gray-200 rounded-2xl p-4 flex items-center gap-4 selected" onclick="selectVehicle(this, 'economy', 80)">
                                <div class="text-4xl">ğŸš•</div>
                                <div class="flex-1">
                                    <div class="font-bold text-gray-800">Ø§Ù‚ØªØµØ§Ø¯ÛŒ</div>
                                    <div class="text-xs text-gray-500">ØªÙˆÛŒÙˆØªØ§ Ú©Ø±ÙˆÙ„Ø§ â€¢ Û´ Ù†ÙØ±Ù‡</div>
                                </div>
                                <div class="text-left">
                                    <div class="font-black text-lg text-gray-800">Û¸Û° <span class="text-xs">Ø§ÙØºØ§Ù†ÛŒ</span></div>
                                    <div class="text-xs text-gray-500">Û³-Ûµ Ø¯Ù‚ÛŒÙ‚Ù‡</div>
                                </div>
                            </div>
                            <div class="vehicle-option border-2 border-gray-200 rounded-2xl p-4 flex items-center gap-4" onclick="selectVehicle(this, 'comfort', 150)">
                                <div class="text-4xl">ğŸš™</div>
                                <div class="flex-1">
                                    <div class="font-bold text-gray-800">Ø±Ø§Ø­Øª</div>
                                    <div class="text-xs text-gray-500">ØªÙˆÛŒÙˆØªØ§ Ú©Ù…Ø±ÛŒ â€¢ Û´ Ù†ÙØ±Ù‡</div>
                                </div>
                                <div class="text-left">
                                    <div class="font-black text-lg text-gray-800">Û±ÛµÛ° <span class="text-xs">Ø§ÙØºØ§Ù†ÛŒ</span></div>
                                    <div class="text-xs text-gray-500">Ûµ-Û¸ Ø¯Ù‚ÛŒÙ‚Ù‡</div>
                                </div>
                            </div>
                            <div class="vehicle-option border-2 border-gray-200 rounded-2xl p-4 flex items-center gap-4" onclick="selectVehicle(this, 'vip', 300)">
                                <div class="text-4xl">ğŸš</div>
                                <div class="flex-1">
                                    <div class="font-bold text-gray-800">VIP</div>
                                    <div class="text-xs text-gray-500">ØªÙˆÛŒÙˆØªØ§ Ù„Ù†Ø¯Ú©Ø±ÙˆØ²Ø± â€¢ Û¶ Ù†ÙØ±Ù‡</div>
                                </div>
                                <div class="text-left">
                                    <div class="font-black text-lg text-gray-800">Û³Û°Û° <span class="text-xs">Ø§ÙØºØ§Ù†ÛŒ</span></div>
                                    <div class="text-xs text-gray-500">Û¸-Û±Û² Ø¯Ù‚ÛŒÙ‚Ù‡</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Payment Method -->
                    <div class="card-glass rounded-3xl p-6 shadow-xl">
                        <h3 class="text-lg font-bold text-gray-800 mb-4">ğŸ’³ Ø±ÙˆØ´ Ù¾Ø±Ø¯Ø§Ø®Øª</h3>
                        <div class="grid grid-cols-3 gap-3">
                            <button onclick="selectPayment(this, 'cash')" class="payment-option border-2 border-green-500 bg-green-50 rounded-2xl p-3 text-center transition-all">
                                <div class="text-2xl mb-1">ğŸ’µ</div>
                                <div class="text-xs font-bold text-gray-700">Ù†Ù‚Ø¯ÛŒ</div>
                            </button>
                            <button onclick="selectPayment(this, 'mobile')" class="payment-option border-2 border-gray-200 rounded-2xl p-3 text-center transition-all hover:border-blue-400">
                                <div class="text-2xl mb-1">ğŸ“±</div>
                                <div class="text-xs font-bold text-gray-700">Ù…ÙˆØ¨Ø§ÛŒÙ„</div>
                            </button>
                            <button onclick="selectPayment(this, 'card')" class="payment-option border-2 border-gray-200 rounded-2xl p-3 text-center transition-all hover:border-purple-400">
                                <div class="text-2xl mb-1">ğŸ’³</div>
                                <div class="text-xs font-bold text-gray-700">Ú©Ø§Ø±Øª</div>
                            </button>
                        </div>
                    </div>

                    <!-- Book Button -->
                    <button onclick="bookRide()" class="btn-primary w-full text-white py-5 rounded-2xl font-bold text-xl shadow-xl flex items-center justify-center gap-3">
                        <span>Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø³ÙˆØ§Ø±ÛŒ</span>
                        <span id="priceDisplay" class="bg-white/20 px-4 py-1 rounded-xl">Û¸Û° Ø§ÙØºØ§Ù†ÛŒ</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Searching Driver Page -->
        <div id="page-searching" class="page hidden">
            <div class="max-w-md mx-auto text-center slide-up">
                <div class="card-glass rounded-3xl p-10 shadow-2xl">
                    <div class="loading-spinner mx-auto mb-6"></div>
                    <h3 class="text-2xl font-bold text-gray-800 mb-3">Ø¯Ø± Ø­Ø§Ù„ Ø¬Ø³ØªØ¬ÙˆÛŒ Ø±Ø§Ù†Ù†Ø¯Ù‡...</h3>
                    <p class="text-gray-500 mb-6">Ù„Ø·ÙØ§Ù‹ ØµØ¨Ø± Ú©Ù†ÛŒØ¯ØŒ Ø¯Ø± Ø­Ø§Ù„ ÛŒØ§ÙØªÙ† Ù†Ø²Ø¯ÛŒÚ©â€ŒØªØ±ÛŒÙ† Ø±Ø§Ù†Ù†Ø¯Ù‡ Ù‡Ø³ØªÛŒÙ…</p>
                    
                    <div class="bg-gray-50 rounded-2xl p-4 mb-6">
                        <div class="flex items-center gap-3 mb-3">
                            <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                            <span class="text-sm text-gray-600" id="searchOrigin">Ù…Ø¨Ø¯Ø£</span>
                        </div>
                        <div class="border-r-2 border-dashed border-gray-300 h-4 mr-1.5"></div>
                        <div class="flex items-center gap-3">
                            <div class="w-3 h-3 bg-red-500 rounded-full"></div>
                            <span class="text-sm text-gray-600" id="searchDest">Ù…Ù‚ØµØ¯</span>
                        </div>
                    </div>

                    <button onclick="cancelSearch()" class="w-full border-2 border-red-200 text-red-500 py-3 rounded-2xl font-bold hover:bg-red-50 transition-all">
                        Ù„ØºÙˆ Ø¯Ø±Ø®ÙˆØ§Ø³Øª
                    </button>
                </div>
            </div>
        </div>

        <!-- Ride Active Page -->
        <div id="page-ride" class="page hidden">
            <div class="max-w-lg mx-auto slide-up space-y-4">
                <!-- Status -->
                <div class="bg-green-500 text-white rounded-3xl p-5 text-center shadow-xl">
                    <div class="flex items-center justify-center gap-2 mb-1">
                        <div class="w-3 h-3 bg-white rounded-full status-badge"></div>
                        <span class="font-bold text-lg" id="rideStatus">Ø±Ø§Ù†Ù†Ø¯Ù‡ Ø¯Ø± Ø±Ø§Ù‡ Ø§Ø³Øª</span>
                    </div>
                    <p class="text-white/80 text-sm" id="rideETA">Ø²Ù…Ø§Ù† ØªØ®Ù…ÛŒÙ†ÛŒ Ø±Ø³ÛŒØ¯Ù†: Û´ Ø¯Ù‚ÛŒÙ‚Ù‡</p>
                </div>

                <!-- Driver Info -->
                <div class="card-glass rounded-3xl p-6 shadow-xl">
                    <div class="flex items-center gap-4 mb-4">
                        <div class="w-16 h-16 bg-gradient-to-br from-blue-400 to-blue-600 rounded-2xl flex items-center justify-center text-3xl shadow-lg">
                            ğŸ‘¨
                        </div>
                        <div class="flex-1">
                            <h4 class="font-bold text-lg text-gray-800" id="driverName">Ø§Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯ÛŒ</h4>
                            <div class="flex items-center gap-1 text-sm">
                                <span class="star-filled">â˜…â˜…â˜…â˜…</span><span class="star-empty">â˜…</span>
                                <span class="text-gray-500 mr-1">Û´.Û·</span>
                            </div>
                            <p class="text-xs text-gray-500 mt-1" id="driverCar">ØªÙˆÛŒÙˆØªØ§ Ú©Ø±ÙˆÙ„Ø§ Ø³ÙÛŒØ¯ â€¢ Ù¾Ù„Ø§Ú© Û±-Û³Û´ÛµÛ¶</p>
                        </div>
                    </div>
                    
                    <div class="flex gap-3">
                        <button onclick="callDriver()" class="flex-1 bg-green-500 hover:bg-green-600 text-white py-3 rounded-2xl font-bold flex items-center justify-center gap-2 transition-all">
                            <span>ğŸ“</span> ØªÙ…Ø§Ø³
                        </button>
                        <button onclick="messageDriver()" class="flex-1 bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-2xl font-bold flex items-center justify-center gap-2 transition-all">
                            <span>ğŸ’¬</span> Ù¾ÛŒØ§Ù…
                        </button>
                    </div>
                </div>

                <!-- Trip Details -->
                <div class="card-glass rounded-3xl p-6 shadow-xl">
                    <h4 class="font-bold text-gray-800 mb-4">Ø¬Ø²Ø¦ÛŒØ§Øª Ø³ÙØ±</h4>
                    <div class="space-y-3">
                        <div class="flex items-center gap-3">
                            <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                            <span class="text-sm text-gray-600" id="rideOrigin"></span>
                        </div>
                        <div class="border-r-2 border-dashed border-gray-300 h-6 mr-1.5"></div>
                        <div class="flex items-center gap-3">
                            <div class="w-3 h-3 bg-red-500 rounded-full"></div>
                            <span class="text-sm text-gray-600" id="rideDest"></span>
                        </div>
                    </div>
                    <div class="mt-4 pt-4 border-t border-gray-100 flex justify-between items-center">
                        <span class="text-gray-500">Ù…Ø¨Ù„Øº ØªØ®Ù…ÛŒÙ†ÛŒ</span>
                        <span class="font-black text-xl text-gray-800" id="rideCost">Û¸Û° Ø§ÙØºØ§Ù†ÛŒ</span>
                    </div>
                </div>

                <!-- Map Preview -->
                <div class="map-container rounded-3xl h-48 relative shadow-xl">
                    <div class="map-road" style="width:70%; height:3px; top:40%; left:15%; transform: rotate(5deg);"></div>
                    <div class="map-road" style="width:50%; height:3px; top:60%; left:25%;"></div>
                    <div class="absolute text-3xl" style="top: 35%; left: 30%; animation: carMove 4s ease-in-out infinite;">ğŸš•</div>
                    <div class="map-dot" style="top: 50%; left: 70%;"></div>
                    <div class="absolute bottom-4 left-4 right-4 bg-white/90 backdrop-blur-sm rounded-xl px-3 py-2 text-center text-sm text-gray-600 font-medium">
                        ğŸš• Ø±Ø§Ù†Ù†Ø¯Ù‡ Ø¯Ø± Ø­Ø§Ù„ Ø­Ø±Ú©Øª Ø¨Ù‡ Ø³Ù…Øª Ø´Ù…Ø§
                    </div>
                </div>

                <!-- Complete / Cancel -->
                <div class="flex gap-3">
                    <button onclick="completeRide()" class="flex-1 btn-primary text-white py-4 rounded-2xl font-bold text-lg">
                        âœ… Ù¾Ø§ÛŒØ§Ù† Ø³ÙØ±
                    </button>
                    <button onclick="cancelRide()" class="border-2 border-red-200 text-red-500 px-6 py-4 rounded-2xl font-bold hover:bg-red-50 transition-all">
                        Ù„ØºÙˆ
                    </button>
                </div>
            </div>
        </div>

        <!-- Rating Page -->
        <div id="page-rating" class="page hidden">
            <div class="max-w-md mx-auto slide-up">
                <div class="card-glass rounded-3xl p-8 shadow-2xl text-center">
                    <div class="text-6xl mb-4">ğŸ‰</div>
                    <h3 class="text-2xl font-bold text-gray-800 mb-2">Ø³ÙØ± Ø´Ù…Ø§ ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯!</h3>
                    <p class="text-gray-500 mb-6">Ù„Ø·ÙØ§Ù‹ Ø¨Ù‡ Ø±Ø§Ù†Ù†Ø¯Ù‡ Ø§Ù…ØªÛŒØ§Ø² Ø¯Ù‡ÛŒØ¯</p>

                    <div class="flex items-center justify-center gap-4 mb-4">
                        <div class="w-16 h-16 bg-gradient-to-br from-blue-400 to-blue-600 rounded-2xl flex items-center justify-center text-3xl">ğŸ‘¨</div>
                        <div class="text-right">
                            <div class="font-bold text-lg" id="ratingDriverName">Ø§Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯ÛŒ</div>
                            <div class="text-sm text-gray-500" id="ratingDriverCar">ØªÙˆÛŒÙˆØªØ§ Ú©Ø±ÙˆÙ„Ø§ Ø³ÙÛŒØ¯</div>
                        </div>
                    </div>

                    <!-- Stars -->
                    <div class="flex justify-center gap-2 mb-6" id="starsContainer">
                        <button onclick="setRating(1)" class="text-4xl star-btn star-empty hover:scale-110 transition-transform">â˜…</button>
                        <button onclick="setRating(2)" class="text-4xl star-btn star-empty hover:scale-110 transition-transform">â˜…</button>
                        <button onclick="setRating(3)" class="text-4xl star-btn star-empty hover:scale-110 transition-transform">â˜…</button>
                        <button onclick="setRating(4)" class="text-4xl star-btn star-empty hover:scale-110 transition-transform">â˜…</button>
                        <button onclick="setRating(5)" class="text-4xl star-btn star-empty hover:scale-110 transition-transform">â˜…</button>
                    </div>

                    <div class="mb-6">
                        <textarea id="ratingComment" rows="3" placeholder="Ù†Ø¸Ø± Ø´Ù…Ø§ Ø¯Ø± Ù…ÙˆØ±Ø¯ Ø³ÙØ± (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)..." 
                            class="input-field w-full px-4 py-3 border-2 border-gray-200 rounded-2xl outline-none bg-gray-50 resize-none text-sm"></textarea>
                    </div>

                    <div class="bg-gray-50 rounded-2xl p-4 mb-6 flex justify-between items-center">
                        <span class="text-gray-500">Ù…Ø¨Ù„Øº Ù¾Ø±Ø¯Ø§Ø®Øª Ø´Ø¯Ù‡</span>
                        <span class="font-black text-2xl text-green-600" id="ratingCost">Û¸Û° Ø§ÙØºØ§Ù†ÛŒ</span>
                    </div>

                    <button onclick="submitRating()" class="btn-primary w-full text-white py-4 rounded-2xl font-bold text-lg">
                        Ø«Ø¨Øª Ø§Ù…ØªÛŒØ§Ø² Ùˆ Ø¨Ø§Ø²Ú¯Ø´Øª
                    </button>
                </div>
            </div>
        </div>

        <!-- History Page -->
        <div id="page-history" class="page hidden">
            <div class="max-w-2xl mx-auto slide-up">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-2xl font-bold text-gray-800 flex items-center gap-2">
                        <span>ğŸ“‹</span> ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ø³ÙØ±Ù‡Ø§
                    </h2>
                    <button onclick="showPage('home')" class="bg-gray-100 hover:bg-gray-200 p-2.5 rounded-xl transition-all">
                        âœ•
                    </button>
                </div>
                <div id="historyList" class="space-y-4">
                    <!-- Filled dynamically -->
                </div>
                <div id="noHistory" class="hidden text-center py-16">
                    <div class="text-6xl mb-4">ğŸ•</div>
                    <h3 class="text-xl font-bold text-gray-600 mb-2">Ù‡Ù†ÙˆØ² Ø³ÙØ±ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡</h3>
                    <p class="text-gray-400">Ø¨Ø¹Ø¯ Ø§Ø² Ø§ÙˆÙ„ÛŒÙ† Ø³ÙØ±ØŒ ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯</p>
                    <button onclick="showPage('booking')" class="btn-primary text-white px-6 py-3 rounded-2xl font-bold mt-6">
                        Ø§ÙˆÙ„ÛŒÙ† Ø³ÙØ± Ø®ÙˆØ¯ Ø±Ø§ Ø±Ø²Ø±Ùˆ Ú©Ù†ÛŒØ¯
                    </button>
                </div>
            </div>
        </div>

        <!-- Profile Page -->
        <div id="page-profile" class="page hidden">
            <div class="max-w-md mx-auto slide-up">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-2xl font-bold text-gray-800 flex items-center gap-2">
                        <span>ğŸ‘¤</span> Ù¾Ø±ÙˆÙØ§ÛŒÙ„
                    </h2>
                    <button onclick="showPage('home')" class="bg-gray-100 hover:bg-gray-200 p-2.5 rounded-xl transition-all">
                        âœ•
                    </button>
                </div>

                <div id="profileContent">
                    <div class="card-glass rounded-3xl p-8 shadow-xl text-center">
                        <div class="text-6xl mb-4">ğŸ‘¤</div>
                        <h3 class="text-xl font-bold text-gray-600 mb-2">Ù‡Ù†ÙˆØ² ÙˆØ§Ø±Ø¯ Ù†Ø´Ø¯Ù‡â€ŒØ§ÛŒØ¯</h3>
                        <p class="text-gray-400 mb-6">Ø¨Ø±Ø§ÛŒ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ø®ÙˆØ¯ ÙˆØ§Ø±Ø¯ Ø´ÙˆÛŒØ¯</p>
                        <button onclick="showPage('login')" class="btn-primary text-white px-8 py-3 rounded-2xl font-bold">
                            ÙˆØ±ÙˆØ¯ / Ø«Ø¨Øª Ù†Ø§Ù…
                        </button>
                    </div>
                </div>

                <div id="profileLoggedIn" class="hidden space-y-4">
                    <div class="card-glass rounded-3xl p-6 shadow-xl">
                        <div class="flex items-center gap-4 mb-6">
                            <div class="w-20 h-20 bg-gradient-to-br from-red-400 to-pink-600 rounded-3xl flex items-center justify-center text-4xl shadow-lg">
                                ğŸ‘¤
                            </div>
                            <div>
                                <h3 class="font-bold text-xl text-gray-800" id="profileName">-</h3>
                                <p class="text-gray-500" id="profilePhone">-</p>
                                <span class="bg-green-100 text-green-700 text-xs font-bold px-3 py-1 rounded-full" id="profileType">Ù…Ø³Ø§ÙØ±</span>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-3 gap-4 mb-6">
                            <div class="bg-gray-50 rounded-2xl p-3 text-center">
                                <div class="font-black text-xl text-gray-800" id="totalRides">Û°</div>
                                <div class="text-xs text-gray-500">Ø³ÙØ±Ù‡Ø§</div>
                            </div>
                            <div class="bg-gray-50 rounded-2xl p-3 text-center">
                                <div class="font-black text-xl text-gray-800" id="totalSpent">Û°</div>
                                <div class="text-xs text-gray-500">Ù…ØµØ±Ù (Ø§ÙØºØ§Ù†ÛŒ)</div>
                            </div>
                            <div class="bg-gray-50 rounded-2xl p-3 text-center">
                                <div class="font-black text-xl text-gray-800">Û´.Û¹</div>
                                <div class="text-xs text-gray-500">Ø§Ù…ØªÛŒØ§Ø²</div>
                            </div>
                        </div>
                    </div>

                    <div class="card-glass rounded-3xl p-6 shadow-xl space-y-3">
                        <button class="w-full flex items-center gap-3 p-3 hover:bg-gray-50 rounded-2xl transition-all">
                            <span class="text-xl">ğŸ“±</span>
                            <span class="font-medium text-gray-700">ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø§Ø·Ù„Ø§Ø¹â€ŒØ±Ø³Ø§Ù†ÛŒ</span>
                        </button>
                        <button class="w-full flex items-center gap-3 p-3 hover:bg-gray-50 rounded-2xl transition-all">
                            <span class="text-xl">ğŸŒ</span>
                            <span class="font-medium text-gray-700">Ø²Ø¨Ø§Ù†: Ø¯Ø±ÛŒ / Ù¾Ø´ØªÙˆ</span>
                        </button>
                        <button class="w-full flex items-center gap-3 p-3 hover:bg-gray-50 rounded-2xl transition-all">
                            <span class="text-xl">â“</span>
                            <span class="font-medium text-gray-700">Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ùˆ Ú©Ù…Ú©</span>
                        </button>
                        <button class="w-full flex items-center gap-3 p-3 hover:bg-gray-50 rounded-2xl transition-all">
                            <span class="text-xl">ğŸ“œ</span>
                            <span class="font-medium text-gray-700">Ø´Ø±Ø§ÛŒØ· Ùˆ Ù‚ÙˆØ§Ù†ÛŒÙ†</span>
                        </button>
                        <button onclick="logout()" class="w-full flex items-center gap-3 p-3 hover:bg-red-50 rounded-2xl transition-all text-red-500">
                            <span class="text-xl">ğŸšª</span>
                            <span class="font-medium">Ø®Ø±ÙˆØ¬ Ø§Ø² Ø­Ø³Ø§Ø¨</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <!-- Bottom Navigation (Mobile) -->
    <nav class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-2xl md:hidden z-40">
        <div class="flex justify-around py-2">
            <button onclick="showPage('home')" class="flex flex-col items-center py-2 px-3 text-gray-500 hover:text-red-500 transition-all" id="nav-home">
                <span class="text-xl">ğŸ </span>
                <span class="text-xs font-medium mt-1">Ø®Ø§Ù†Ù‡</span>
            </button>
            <button onclick="showPage('booking')" class="flex flex-col items-center py-2 px-3 text-gray-500 hover:text-red-500 transition-all" id="nav-booking">
                <span class="text-xl">ğŸš•</span>
                <span class="text-xs font-medium mt-1">Ø³ÙˆØ§Ø±ÛŒ</span>
            </button>
            <button onclick="showPage('history')" class="flex flex-col items-center py-2 px-3 text-gray-500 hover:text-red-500 transition-all" id="nav-history">
                <span class="text-xl">ğŸ“‹</span>
                <span class="text-xs font-medium mt-1">ØªØ§Ø±ÛŒØ®Ú†Ù‡</span>
            </button>
            <button onclick="showPage('profile')" class="flex flex-col items-center py-2 px-3 text-gray-500 hover:text-red-500 transition-all" id="nav-profile">
                <span class="text-xl">ğŸ‘¤</span>
                <span class="text-xs font-medium mt-1">Ù¾Ø±ÙˆÙØ§ÛŒÙ„</span>
            </button>
        </div>
    </nav>

    <!-- Add padding for mobile nav -->
    <div class="h-20 md:hidden"></div>

    <script>
        // ============ STATE ============
        let currentUser = null;
        let currentRide = null;
        let selectedVehicle = 'economy';
        let selectedPrice = 80;
        let selectedPayment = 'cash';
        let rideHistory = [];
        let currentRating = 0;

        // ============ DRIVERS DATA ============
        const drivers = [
            { name: 'Ø§Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯ÛŒ', car: 'ØªÙˆÛŒÙˆØªØ§ Ú©Ø±ÙˆÙ„Ø§ Ø³ÙÛŒØ¯', plate: 'Û±-Û³Û´ÛµÛ¶ Ú©Ø§Ø¨Ù„', rating: 4.7, avatar: 'ğŸ‘¨' },
            { name: 'Ù…Ø­Ù…ÙˆØ¯ Ø±Ø­ÛŒÙ…ÛŒ', car: 'ØªÙˆÛŒÙˆØªØ§ Ú©Ù…Ø±ÛŒ Ù†Ù‚Ø±Ù‡â€ŒØ§ÛŒ', plate: 'Û²-Û·Û¸Û¹Û° Ú©Ø§Ø¨Ù„', rating: 4.9, avatar: 'ğŸ‘³' },
            { name: 'Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ú©Ø±ÛŒÙ…ÛŒ', car: 'ØªÙˆÛŒÙˆØªØ§ Ù¾Ø±ÛŒÙˆØ³ Ø¢Ø¨ÛŒ', plate: 'Û³-Û±Û²Û³Û´ Ú©Ø§Ø¨Ù„', rating: 4.5, avatar: 'ğŸ§”' },
            { name: 'ÙØ±Ù‡Ø§Ø¯ Ù†ÙˆØ±ÛŒ', car: 'Ø³ÙˆØ²ÙˆÚ©ÛŒ Ø³ÙˆØ¦ÛŒÙØª Ø³ÙÛŒØ¯', plate: 'Û´-ÛµÛ¶Û·Û¸ Ú©Ø§Ø¨Ù„', rating: 4.8, avatar: 'ğŸ‘¨â€ğŸ¦±' },
            { name: 'Ù†Ø§ØµØ± Ø­ÛŒØ¯Ø±ÛŒ', car: 'ØªÙˆÛŒÙˆØªØ§ Ù„Ù†Ø¯Ú©Ø±ÙˆØ²Ø± Ø³ÛŒØ§Ù‡', plate: 'Ûµ-Û¹Û°Û±Û² Ú©Ø§Ø¨Ù„', rating: 4.6, avatar: 'ğŸ‘¨â€ğŸ¦³' },
        ];

        // ============ PAGE NAVIGATION ============
        function showPage(pageName) {
            document.querySelectorAll('.page').forEach(p => p.classList.add('hidden'));
            const page = document.getElementById('page-' + pageName);
            if (page) {
                page.classList.remove('hidden');
                // Re-trigger animation
                page.querySelector('.slide-up')?.classList.remove('slide-up');
                setTimeout(() => page.querySelector(':first-child')?.classList.add('slide-up'), 10);
            }

            // Update bottom nav
            document.querySelectorAll('nav button').forEach(b => b.classList.remove('text-red-500'));
            const navBtn = document.getElementById('nav-' + pageName);
            if (navBtn) navBtn.classList.add('text-red-500');

            // Special page handling
            if (pageName === 'history') renderHistory();
            if (pageName === 'profile') renderProfile();
        }

        // ============ LOGIN ============
        let loginType = 'passenger';

        function switchLoginTab(type) {
            loginType = type;
            document.getElementById('tab-passenger').classList.toggle('tab-active', type === 'passenger');
            document.getElementById('tab-passenger').classList.toggle('text-gray-600', type !== 'passenger');
            document.getElementById('tab-driver').classList.toggle('tab-active', type === 'driver');
            document.getElementById('tab-driver').classList.toggle('text-gray-600', type !== 'driver');
            document.getElementById('driverFields').classList.toggle('hidden', type !== 'driver');
        }

        function login() {
            const name = document.getElementById('loginName').value.trim();
            const phone = document.getElementById('loginPhone').value.trim();

            if (!name || !phone) {
                showNotification('Ù„Ø·ÙØ§Ù‹ Ù†Ø§Ù… Ùˆ Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ† Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯', 'âš ï¸', 'orange');
                return;
            }

            currentUser = {
                name,
                phone: '+93 ' + phone,
                type: loginType,
                carType: document.getElementById('carType')?.value || '',
                carPlate: document.getElementById('carPlate')?.value || ''
            };

            document.getElementById('loginBtn').textContent = name;
            showNotification(`${name} Ø¬Ø§Ù†ØŒ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!`, 'ğŸ‰', 'green');
            showPage('home');
        }

        function logout() {
            currentUser = null;
            document.getElementById('loginBtn').textContent = 'ÙˆØ±ÙˆØ¯';
            document.getElementById('loginName').value = '';
            document.getElementById('loginPhone').value = '';
            showNotification('Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø®Ø§Ø±Ø¬ Ø´Ø¯ÛŒØ¯', 'ğŸ‘‹', 'blue');
            showPage('home');
        }

        // ============ BOOKING ============
        function quickBook(city) {
            if (!currentUser) {
                showNotification('Ù„Ø·ÙØ§Ù‹ Ø§Ø¨ØªØ¯Ø§ ÙˆØ§Ø±Ø¯ Ø´ÙˆÛŒØ¯', 'âš ï¸', 'orange');
                showPage('login');
                return;
            }
            document.getElementById('origin').value = 'Ù…Ø±Ú©Ø² Ø´Ù‡Ø± ' + city;
            showPage('booking');
        }

        function setDest(dest) {
            document.getElementById('destination').value = dest;
            updateDestination();
        }

        function updateDestination() {
            const dest = document.getElementById('destination').value;
            document.getElementById('destDot').classList.toggle('hidden', !dest);
        }

        function selectVehicle(el, type, price) {
            document.querySelectorAll('.vehicle-option').forEach(v => v.classList.remove('selected'));
            el.classList.add('selected');
            selectedVehicle = type;
            selectedPrice = price;
            document.getElementById('priceDisplay').textContent = toPersianNum(price) + ' Ø§ÙØºØ§Ù†ÛŒ';
        }

        function selectPayment(el, method) {
            document.querySelectorAll('.payment-option').forEach(p => {
                p.classList.remove('border-green-500', 'bg-green-50', 'border-blue-500', 'bg-blue-50', 'border-purple-500', 'bg-purple-50');
                p.classList.add('border-gray-200');
            });
            const colors = {
                cash: ['border-green-500', 'bg-green-50'],
                mobile: ['border-blue-500', 'bg-blue-50'],
                card: ['border-purple-500', 'bg-purple-50']
            };
            el.classList.remove('border-gray-200');
            el.classList.add(...colors[method]);
            selectedPayment = method;
        }

        function bookRide() {
            if (!currentUser) {
                showNotification('Ù„Ø·ÙØ§Ù‹ Ø§Ø¨ØªØ¯Ø§ ÙˆØ§Ø±Ø¯ Ø´ÙˆÛŒØ¯', 'âš ï¸', 'orange');
                showPage('login');
                return;
            }

            const origin = document.getElementById('origin').value.trim();
            const destination = document.getElementById('destination').value.trim();

            if (!origin || !destination) {
                showNotification('Ù„Ø·ÙØ§Ù‹ Ù…Ø¨Ø¯Ø£ Ùˆ Ù…Ù‚ØµØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯', 'âš ï¸', 'orange');
                return;
            }

            currentRide = {
                origin,
                destination,
                vehicle: selectedVehicle,
                price: selectedPrice,
                payment: selectedPayment,
                driver: drivers[Math.floor(Math.random() * drivers.length)],
                date: new Date().toLocaleDateString('fa-AF'),
                time: new Date().toLocaleTimeString('fa-AF', { hour: '2-digit', minute: '2-digit' })
            };

            document.getElementById('searchOrigin').textContent = origin;
            document.getElementById('searchDest').textContent = destination;
            showPage('searching');

            // Simulate finding driver
            setTimeout(() => {
                showNotification('Ø±Ø§Ù†Ù†Ø¯Ù‡ Ù¾ÛŒØ¯Ø§ Ø´Ø¯! ğŸš•', 'âœ…', 'green');
                showRideActive();
            }, 3000);
        }

        function cancelSearch() {
            currentRide = null;
            showNotification('Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù„ØºÙˆ Ø´Ø¯', 'âŒ', 'red');
            showPage('booking');
        }

        function showRideActive() {
            const d = currentRide.driver;
            document.getElementById('driverName').textContent = d.name;
            document.getElementById('driverCar').textContent = d.car + ' â€¢ Ù¾Ù„Ø§Ú© ' + d.plate;
            document.getElementById('rideOrigin').textContent = currentRide.origin;
            document.getElementById('rideDest').textContent = currentRide.destination;
            document.getElementById('rideCost').textContent = toPersianNum(currentRide.price) + ' Ø§ÙØºØ§Ù†ÛŒ';
            showPage('ride');

            // Simulate status updates
            setTimeout(() => {
                document.getElementById('rideStatus').textContent = 'Ø±Ø§Ù†Ù†Ø¯Ù‡ Ø±Ø³ÛŒØ¯!';
                document.getElementById('rideETA').textContent = 'Ù„Ø·ÙØ§Ù‹ Ø³ÙˆØ§Ø± Ø´ÙˆÛŒØ¯';
                showNotification('Ø±Ø§Ù†Ù†Ø¯Ù‡ Ø¨Ù‡ Ù…Ø­Ù„ Ø´Ù…Ø§ Ø±Ø³ÛŒØ¯', 'ğŸ“', 'green');
            }, 5000);

            setTimeout(() => {
                document.getElementById('rideStatus').textContent = 'Ø¯Ø± Ø­Ø§Ù„ Ø³ÙØ±...';
                document.getElementById('rideETA').textContent = 'Ø²Ù…Ø§Ù† ØªØ®Ù…ÛŒÙ†ÛŒ Ø±Ø³ÛŒØ¯Ù† Ø¨Ù‡ Ù…Ù‚ØµØ¯: Û±Ûµ Ø¯Ù‚ÛŒÙ‚Ù‡';
            }, 8000);
        }

        function callDriver() {
            showNotification('Ø¯Ø± Ø­Ø§Ù„ ØªÙ…Ø§Ø³ Ø¨Ø§ ' + currentRide.driver.name + '...', 'ğŸ“', 'green');
        }

        function messageDriver() {
            showNotification('Ù¾ÛŒØ§Ù… Ø¨Ù‡ ' + currentRide.driver.name + ' Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯', 'ğŸ’¬', 'blue');
        }

        function cancelRide() {
            if (confirm('Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø³ÙØ± Ø±Ø§ Ù„ØºÙˆ Ú©Ù†ÛŒØ¯ØŸ')) {
                currentRide = null;
                showNotification('Ø³ÙØ± Ù„ØºÙˆ Ø´Ø¯', 'âŒ', 'red');
                showPage('home');
            }
        }

        function completeRide() {
            // Show rating page
            document.getElementById('ratingDriverName').textContent = currentRide.driver.name;
            document.getElementById('ratingDriverCar').textContent = currentRide.driver.car;
            document.getElementById('ratingCost').textContent = toPersianNum(currentRide.price) + ' Ø§ÙØºØ§Ù†ÛŒ';
            currentRating = 0;
            document.querySelectorAll('.star-btn').forEach(s => {
                s.classList.remove('star-filled');
                s.classList.add('star-empty');
            });
            showPage('rating');
        }

        // ============ RATING ============
        function setRating(stars) {
            currentRating = stars;
            const btns = document.querySelectorAll('.star-btn');
            btns.forEach((btn, i) => {
                if (i < stars) {
                    btn.classList.remove('star-empty');
                    btn.classList.add('star-filled');
                } else {
                    btn.classList.remove('star-filled');
                    btn.classList.add('star-empty');
                }
            });
        }

        function submitRating() {
            if (currentRating === 0) {
                showNotification('Ù„Ø·ÙØ§Ù‹ Ø§Ù…ØªÛŒØ§Ø² Ø¯Ù‡ÛŒØ¯', 'âš ï¸', 'orange');
                return;
            }

            // Save to history
            rideHistory.unshift({
                ...currentRide,
                rating: currentRating,
                comment: document.getElementById('ratingComment').value,
                status: 'completed'
            });

            showNotification('ØªØ´Ú©Ø±! Ø§Ù…ØªÛŒØ§Ø² Ø´Ù…Ø§ Ø«Ø¨Øª Ø´Ø¯', 'â­', 'green');
            currentRide = null;
            document.getElementById('ratingComment').value = '';
            showPage('home');
        }

        // ============ HISTORY ============
        function renderHistory() {
            const list = document.getElementById('historyList');
            const noHistory = document.getElementById('noHistory');

            if (rideHistory.length === 0) {
                list.innerHTML = '';
                noHistory.classList.remove('hidden');
                return;
            }

            noHistory.classList.add('hidden');
            list.innerHTML = rideHistory.map((ride, i) => `
                <div class="card-glass rounded-2xl p-5 shadow-lg driver-card">
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center gap-3">
                            <div class="w-12 h-12 bg-gradient-to-br from-blue-400 to-blue-600 rounded-xl flex items-center justify-center text-xl">${ride.driver.avatar}</div>
                            <div>
                                <div class="font-bold text-gray-800">${ride.driver.name}</div>
                                <div class="text-xs text-gray-500">${ride.driver.car}</div>
                            </div>
                        </div>
                        <div class="text-left">
                            <div class="font-black text-gray-800">${toPersianNum(ride.price)} Ø§ÙØºØ§Ù†ÛŒ</div>
                            <div class="text-xs text-gray-500">${ride.date}</div>
                        </div>
                    </div>
                    <div class="bg-gray-50 rounded-xl p-3 space-y-2">
                        <div class="flex items-center gap-2 text-sm">
                            <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                            <span class="text-gray-600">${ride.origin}</span>
                        </div>
                        <div class="flex items-center gap-2 text-sm">
                            <div class="w-2 h-2 bg-red-500 rounded-full"></div>
                            <span class="text-gray-600">${ride.destination}</span>
                        </div>
                    </div>
                    <div class="flex items-center justify-between mt-3">
                        <div class="flex items-center gap-1">
                            ${'<span class="star-filled text-sm">â˜…</span>'.repeat(ride.rating)}${'<span class="star-empty text-sm">â˜…</span>'.repeat(5 - ride.rating)}
                        </div>
                        <span class="bg-green-100 text-green-700 text-xs font-bold px-3 py-1 rounded-full">ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡ âœ“</span>
                    </div>
                </div>
            `).join('');
        }

        // ============ PROFILE ============
        function renderProfile() {
            if (currentUser) {
                document.getElementById('profileContent').classList.add('hidden');
                document.getElementById('profileLoggedIn').classList.remove('hidden');
                document.getElementById('profileName').textContent = currentUser.name;
                document.getElementById('profilePhone').textContent = currentUser.phone;
                document.getElementById('profileType').textContent = currentUser.type === 'driver' ? 'Ø±Ø§Ù†Ù†Ø¯Ù‡' : 'Ù…Ø³Ø§ÙØ±';
                document.getElementById('totalRides').textContent = toPersianNum(rideHistory.length);
                const totalSpent = rideHistory.reduce((sum, r) => sum + r.price, 0);
                document.getElementById('totalSpent').textContent = toPersianNum(totalSpent);
            } else {
                document.getElementById('profileContent').classList.remove('hidden');
                document.getElementById('profileLoggedIn').classList.add('hidden');
            }
        }

        // ============ NOTIFICATIONS ============
        function showNotification(text, icon = 'âœ…', color = 'green') {
            const notif = document.getElementById('notification');
            const notifText = document.getElementById('notifText');
            const notifIcon = document.getElementById('notifIcon');
            const notifBox = notif.querySelector('div');

            notifText.textContent = text;
            notifIcon.textContent = icon;
            
            notifBox.className = `max-w-md mx-auto text-white px-6 py-4 rounded-2xl shadow-2xl notification flex items-center gap-3`;
            const colorMap = {
                green: 'bg-green-500',
                red: 'bg-red-500',
                orange: 'bg-orange-500',
                blue: 'bg-blue-500'
            };
            notifBox.classList.add(colorMap[color] || 'bg-green-500');

            notif.classList.remove('hidden');
            setTimeout(() => notif.classList.add('hidden'), 3000);
        }

        // ============ HELPERS ============
        function toPersianNum(num) {
            const persianDigits = ['Û°', 'Û±', 'Û²', 'Û³', 'Û´', 'Ûµ', 'Û¶', 'Û·', 'Û¸', 'Û¹'];
            return num.toString().replace(/\d/g, d => persianDigits[d]);
        }

        // ============ INIT ============
        showPage('home');
    </script>
</body>
</html>
